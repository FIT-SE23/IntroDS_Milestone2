\newcommand{\notes}{0} % set to 0 to disable notes
\usepackage[utf8]{inputenc}
\usepackage{amsmath, fullpage}
\usepackage{bbm}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{algorithm}
\usepackage[noend]{algpseudocode}
\usepackage{algorithmicx}
\usepackage{xcolor}
\usepackage{comment}
\usepackage{xspace}
\usepackage{bbm}
\usepackage{ulem} \normalem
\usepackage{paralist}
\usepackage{multicol}
\usepackage{hyperref}
\hypersetup{
    colorlinks=true,
    linkcolor=blue,
    filecolor=magenta,      
    urlcolor=cyan,
    linktocpage=true,
}

\ifnum\tpdp=0 
    \newtheorem{theorem}{Theorem}[section]
\else
    \newtheorem{theorem}{Theorem}
\fi
\newtheorem*{theorem*}{Theorem}
\newtheorem{fact}[theorem]{Fact}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{claim}[theorem]{Claim}
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{remark}[theorem]{Remark}
\newtheorem{conjecture}[theorem]{Conjecture}

\newcommand{\R}{\mathbb{R}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\eps}{\varepsilon}
\newcommand{\universe}{\ensuremath{\mathcal{U}}\xspace}
\newcommand{\class}{\ensuremath{\mathcal{C}}\xspace} % class of all distributions with support of size k
\newcommand{\cB}{\ensuremath{\mathcal{B}}\xspace} 
\newcommand{\cBB}{\ensuremath{\cB_{[\frac 13,\frac 23]}}\xspace}
\newcommand{\ca}{\ensuremath{\class^{\alpha}}\xspace}
\newcommand{\cA}{\ensuremath{\class^{\alpha*}}\xspace}
\newcommand{\carb}{\ensuremath{\class_{\alpha, 2k+1}}\xspace} % class of distributions with mass $1-\alpha$ on an arbitrary element, and the remaining mass uniform over a size-$k$ subset of [2k+1] not containing that element.}
\newcommand{\prodoutput}{b}
\newcommand{\hist}{\ensuremath{\mathbf{h}}\xspace}
\newcommand{\distr}{\ensuremath{P}\xspace}
\newcommand{\sampler}{\ensuremath{\mathcal{A}}\xspace}
% for full dataset
\newcommand{\Datarv}{\ensuremath{\mathbf{X}}\xspace}
\newcommand{\Datarvy}{\ensuremath{\mathbf{Y}}\xspace}
\newcommand{\Datarvz}{\ensuremath{\mathbf{Z}}\xspace}
\newcommand{\datarvy}{\ensuremath{Y}\xspace}
\newcommand{\datarvz}{\ensuremath{Z}\xspace}
\newcommand{\Datafixed}{\ensuremath{\mathbf{x}}\xspace}
\newcommand{\Datafixedy}{\ensuremath{\mathbf{y}}\xspace}
\newcommand{\Datafixedz}{\ensuremath{\mathbf{z}}\xspace}
% for indexing into a dataset
\newcommand{\datarv}{\ensuremath{X}\xspace}
\newcommand{\datafixed}{\ensuremath{x}\xspace}
\newcommand{\datafixedy}{\ensuremath{y}\xspace}
\newcommand{\coins}{\ensuremath{\text{coins}(\sampler)}\xspace}
\newcommand{\rand}{\ensuremath{\mathcal{R}}\xspace} %randomness of A
\newcommand{\el}{\ensuremath{s}\xspace}
\newcommand{\me}{\ensuremath{\mathcal{M}}\xspace}
\newcommand{\bsc}{\ensuremath{BSC_{1/3}}\xspace} % binary symmetric channel with bias 1/3
\newcommand{\indicator}{\ensuremath{\mathbbm{1}}\xspace}
\newcommand{\distroutput}[1]{\ensuremath{Q_{#1}\xspace}}
\newcommand{\cbook}{\ensuremath{C}\xspace} %codebook
\newcommand{\cw}{\ensuremath{\mathbf{c}}\xspace} % codeword
\newcommand{\clen}{\ensuremath{d}\xspace} %codeword length
\newcommand{\gencb}{\ensuremath{Gen}\xspace} %Generate codebook algorithm
\newcommand{\tracecw}{\ensuremath{Trace}\xspace} %Trace algorithm output by Gen
\newcommand{\avgcw}{\ensuremath{\overline{\mathbf{c}}}\xspace} % average codeword
\newcommand{\coalition}{\ensuremath{S}\xspace} %coalition of colluding users
\newcommand{\combine}{\ensuremath{\adv_{pirate}}\xspace} %combine algorithm of colluding users

\newcommand{\Biasesfixed}{\ensuremath{\mathbf{p}}\xspace} % d-dim vector of fixed Bernoulli biases
\newcommand{\biasesfixed}{\ensuremath{p}\xspace} % single fixed Bernoulli bias
\newcommand{\Biasesrv}{\ensuremath{\mathbf{P}}\xspace} % d-dim random variable vector of Bernoulli bias
\newcommand{\biasesrv}{\ensuremath{P}\xspace} % single RV Bernoulli bias
\newcommand{\biasdistr}{\ensuremath{{\cal D}}\xspace} %distribution that Bernoulli biases are sampled from
\newcommand{\cwdistr}{\ensuremath{P_{code}}\xspace} % distribution over codewords
%% events
\newcommand{\trunc}{\ensuremath{T}\xspace} % no truncation in any rounds or any p_j's 
\newcommand{\bucket}{\ensuremath{B}\xspace} % successful bucketing event
\newcommand{\clipped}{\ensuremath{C}\xspace} % something gets clipped in its final round
\newcommand{\corr}{\ensuremath{\distr_{corr}}\xspace} % corresponding product distribution

\DeclareMathOperator*{\argmin}{arg\,min}

% distributions
\newcommand{\Po}{\ensuremath{\mathsf{Po}}\xspace}
\newcommand{\Lap}{\mathsf{Lap}}
\newcommand{\Ber}{\ensuremath{\mathsf{Ber}}\xspace} %Bernoulli distribution
\newcommand{\Gauss}{\ensuremath{\mathcal{N}}\xspace} %gaussian distribution
%\newcommand{\berprod}[1]{\ensuremath{\Ber(#1)}\xspace}
\newcommand{\Bin}{\ensuremath{\mathsf{Bin}}\xspace}
\newcommand{\Mult}{\ensuremath{\mathsf{Mult}}\xspace}
\newcommand{\berprod}{\ensuremath{\mathsf{BerProd}}(\Biasesfixed)\xspace}
\newcommand{\Berprod}{\ensuremath{\mathsf{BerProd}}(\Biasesrv)\xspace}
\newcommand{\alphakary}[1]{\ensuremath{\mathcal{\class}^{#1}}}
\DeclareMathOperator*{\E}{\mathbb{E}}

\newcommand{\set}[1]{{\left \{  {#1} \right\} }}
\newcommand{\bit}[1]{{\{0,1\}^{#1}}}

\newcommand{\paren}[1]{{\left ( {#1} \right)}}
\newcommand{\bparen}[1]{{\big ( {#1} \big)}}
\newcommand{\Bparen}[1]{{\Big ( {#1} \Big)}}
\newcommand{\ceil}[1]{{\left \lceil {#1} \right\rceil}}


\newcommand{\clip}[1]{{\left [ {#1} \right]_0^1}}
\newcommand{\clipab}[1]{{\left [ {#1} \right]_a^b}}
\newcommand{\clipquarter}[1]{{\left [ {#1} \right]_{1/4}^{3/4}}}
\newcommand{\reduction}{\ensuremath{\mathcal{R}}}
%\usepackage{eqparbox}
% Sampling algorithms
\newcommand{\fpsampler}{\ensuremath{\mathcal{A}_{\text{FCB}}}\xspace} % fingerprint-based sampler
\newcommand{\posampler}{\ensuremath{\mathcal{A}_{\Po}}\xspace} %poisson sampler
\newcommand{\karysampler}{\ensuremath{\mathcal{A}_{\class_k}}\xspace} % K-ary upper bound sampler
\newcommand{\bernest}{\ensuremath{\me_{\Ber}}\xspace} % marginal estimator for products of bernourlli's

\ifnum\notes=1 %%% This is not \neurips
\newcommand{\srnote}[1]{{\color{blue}\footnote{{\color{blue} {\bf SR:} #1}}}}
\newcommand{\msnote}[1]{{\color{magenta}\footnote{{\color{magenta} {\bf M:} #1}}}}
\newcommand{\ssnote}[1]{{\color{red}\footnote{{\color{red} {\bf SS:} #1}}}}
\newcommand{\asnote}[1]{{\color{brown}\footnote{{\color{brown} {\bf A:} #1}}}}
\newcommand{\old}[1]{\sout{#1}}
\else
\newcommand{\srnote}[1]{}
\newcommand{\msnote}[1]{}
\newcommand{\ssnote}[1]{}
\newcommand{\asnote}[1]{}
\newcommand{\old}[1]{}
\fi 

%I used a different flag (\notes, not \neurips)
% They are the same regardless of \neurips
% OK?

%%% These commands make text appear in color no matter what. 
\ifnum\notes=1
\newcommand{\sr}[1]{{\color{blue} #1}}
\newcommand{\ms}[1]{{\color{magenta} #1}}
\newcommand{\sstext}[1]{{\color{red} #1}}
\newcommand{\as}[1]{{\color{brown} #1}}
\else % notes just appear black
\newcommand{\ms}[1]{#1}
\newcommand{\sr}[1]{{#1}}
\newcommand{\sstext}[1]{{#1}}
\newcommand{\as}[1]{{#1}}
\fi

% Use this macro for stuff that should be changed once the stronger bound for arbitrary product distributions is written. 
% \newcommand{\strongerbounds}[1]{\color{red} \sf #1}
\newcommand{\strongerbounds}[1]{{\color{green} {#1}}}
